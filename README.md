# Библиотека LogX

Данная библиотека логирования может записывать логи:

- в поток данных, через свой собственный стандартный логгер.
- в специфические места, такие как: базы данных, лог-файлы и т. д.

Для того, чтобы писать такие логи, нужно реализовать интерфейс `log.Writer` с одним единственным методом: `WriteLog`.

# Интерфейс для реализации писателя логов

``` Go
type Writer interface {
	WriteLog(datetime time.Time, levelId uint8, message string) error
}
```

# Демонстрация

Выполните следующую команду в терминале, чтобы увидеть демонстрацию работы логгера:

```
make demo
```

# Импортирование

Для использования данной библиотеки в своем проекте, добавьте следующую строку в исходный код приложения, в секцию **импорта**:

``` Go
import (
	"github.com/mrumyantsev/logx/log"
)
```

Для изменения настроек посредством файла конфигурации и использования констант, а также для получения ID уровня лога при реализации писателя, используйте импортирование корневого пакета:

``` Go
import (
	"github.com/mrumyantsev/logx"
)
```

# Применение

Следующая команда создает файл конфигурации, с помощью которого можно более детально настроить логи в своем проекте.

``` Go
loggerCfg := &Config{
	IsDisableDebugLogs: false,
	IsDisableWarnLogs: false,
	IsDisableDefaultConsoleLogger: false,
	IsDisableColors: false,
	TimeFormat: logx.TimeFormat,
	OutputStream logx.GetOutputStream(),
}
```

Эта функция получает созданный конфигурационный файл и применяет его настройки к работе писателей логов.

``` Go
log.ApplyConfig(cfg *logx.Config)
```

Эта функция включает писателя логов в процесс одновременного ведения логов и помещает его во встроенное хранилище.

``` Go
log.AddWriter(w Writer)
```

Функция ниже делает все наоборот - извлекает писателя из хранилища, и он перестает использоваться библиотекой.

``` Go
log.RemoveWriter(w Writer)
```

Данная функция логирования предназначена для записи сообщений уровня **info**. Обычно это информативные сообщения о событиях в приложении.

``` Go
log.Info(msg string)
```

Данная функция логирования предназначена для записи сообщений уровня **debug**. Такие сообщения могут быть использованы для выявления дефектов или краевых случаев в работе программы. (Могут быть выключены.)

``` Go
log.Debug(msg string)
```

Данная функция логирования предназначена для записи сообщений уровня **warn**. Эти сообщения могут быть предостережениями от непредвиденных последствий, при нестандартных ситуациях. (Могут быть выключены.)

``` Go
log.Warn(msg string)
```

Данная функция логирования предназначена для записи сообщений уровня **error**. Такие сообщения явным образом говорят о возникшей проблеме, которая может привести к поломке приложения и потере данных.

``` Go
log.Error(desc string, err error)
```

Данная функция логирования предназначена для записи сообщений уровня **fatal** и завершения приложения с кодом, не равным 0. Это последние сообщение, перед аварийным закрытием программы, указывающее на причину поломки, а также помогающее определить это место в коде.

``` Go
log.Fatal(desc string, err error)
```

Данная функция делает то же самое, что и предыдущая, только с дополнительной возможностью установки нестандартного кода завершения.

``` Go
log.FatalWithCode(desc string, err error, exitCode int)
```

Данная функция логирования предназначена для записи сообщений уровня **panic** и остановки программы, если не будет вызвана функция `recover`. Паники - это критические ошибки в языке Go, которые не определяются на этапе компиляции, и могут быть вызваны благодаря ошибкам в коде. К таким ошибкам относятся: недопустимый доступ к памяти (индексация массива за пределами его емкости), неверное приведение типов, вызов методов с указателем nil, некорректное использование мьютексов и попытки работы с закрытыми каналами.

``` Go
log.Panic(desc string, err error)
```
